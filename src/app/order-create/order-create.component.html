<p-toast></p-toast>
<form (ngSubmit)="onCreateFormSubmit()"
      [formGroup]="createForm">
  <div>
    <div class="p-grid forms-grid">
      <div class="p-col-12 p-md-6">
        {{ticketRequesterName}}
      </div>
      <div class="p-col-12">
        <input pInputText
               ngModel="{{phone}}"
               [style]="{'width': '100%'}"
               formControlName="phone"
               placeholder="Telefone">
      </div>
      <div class="p-col-12 p-md-6">
        <p-dropdown [options]="orderTypeList"
                    placeholder="Tipo de OS"
                    formControlName="orderType"
                    required="true"
                    [style]="{'width': '100%'}"
                    [filter]="true">
        </p-dropdown>
      </div>
      <div class="p-col-12">
        <p-dropdown [options]="priorityList"
                    placeholder="Prioridade"
                    formControlName="priority"
                    [style]="{'width': '100%'}"
                    [filter]="true"
                    required="true">
        </p-dropdown>
      </div>
      <div class="p-col-12">
        <p-dropdown [options]="unitsList"
                    required="true"
                    placeholder="Unidade"
                    [filter]="true"
                    [style]="{'width': '100%'}"
                    formControlName="unit">
        </p-dropdown>
      </div>
      <div class="p-col-12">
        <p-dropdown [options]="regionsList"
                    placeholder="Região"
                    required="true"
                    [filter]="true"
                    [style]="{'width': '100%'}"
                    formControlName="region">
        </p-dropdown>
      </div>
      <div class="p-col-12 p-md-4">
        <div class="ui-inputgroup">
          <input pInputText formControlName="address"
                 ngModel="{{address}}"
                 [style]="{'width': '100%'}"
                 placeholder="Endereço"
                 required="true">
          <button pButton
                  (click)="onEnter($event)"
                  type="button"
                  icon="pi pi-map-marker"
                  class="ui-button-warn">
          </button>
        </div>
      </div>
      <div class="p-col-12">
        <agm-map [latitude]="latitude"
                 style="height: 300px; width: 100%"
                 [longitude]="longitude"
                 [zoom]="zoom"
                 (mapClick)="mapClicked($event)"
                 [panControl]="true">
          <agm-marker *ngFor="let point of points"
                      [latitude]="point.lat"
                      [longitude]="point.lng"
                      [markerDraggable]="true"
                      (dragEnd)="mapDragEndMarker($event)">
          </agm-marker>
        </agm-map>
      </div>
      <div class="p-col-12" style="text-align: end">
        <p-button label="Criar OS" type="submit"></p-button>
      </div>
    </div>
  </div>
</form>
